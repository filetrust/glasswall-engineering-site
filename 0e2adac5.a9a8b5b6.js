(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{137:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return o})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return d}));var a=n(2),i=n(9),l=(n(0),n(201)),s={title:"Rebuild API",id:"rebuild-api",sidebar_label:"API"},o={id:"products/cloud-sdk/rebuild/rebuild-api",title:"Rebuild API",description:"Rebuild File Endpoint",source:"@site/docs/products/cloud-sdk/rebuild/api.md",permalink:"/docs/products/cloud-sdk/rebuild/rebuild-api",sidebar_label:"API",sidebar:"someSidebar",previous:{title:"Architecture of Rebuild",permalink:"/docs/products/cloud-sdk/architecture/rebuild-architecture"},next:{title:"Content Management Policy",permalink:"/docs/products/cloud-sdk/rebuild/rebuild-content-management"}},c=[{value:"Rebuild File Endpoint",id:"rebuild-file-endpoint",children:[{value:"The Endpoint",id:"the-endpoint",children:[]},{value:"Request Body",id:"request-body",children:[]},{value:"Request Headers",id:"request-headers",children:[]}]},{value:"Rebuild Base64 Endpoint",id:"rebuild-base64-endpoint",children:[{value:"The Endpoint",id:"the-endpoint-1",children:[]},{value:"Request Body",id:"request-body-1",children:[]},{value:"Request Headers",id:"request-headers-1",children:[]}]},{value:"Rebuild Url to Url Endpoint",id:"rebuild-url-to-url-endpoint",children:[{value:"The Endpoint",id:"the-endpoint-2",children:[]},{value:"Request Body",id:"request-body-2",children:[]},{value:"Request Headers",id:"request-headers-2",children:[]}]},{value:"API Resources",id:"api-resources",children:[]}],r={rightToc:c};function d(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(l.b)("wrapper",Object(a.a)({},r,n,{components:t,mdxType:"MDXLayout"}),Object(l.b)("h2",{id:"rebuild-file-endpoint"},"Rebuild File Endpoint"),Object(l.b)("h3",{id:"the-endpoint"},"The Endpoint"),Object(l.b)("div",{class:"api-details"},Object(l.b)("div",{class:"api-details-left api-details-column"},Object(l.b)("p",null,"This Endpoint takes a file in its request and rebuilds it with the Glasswall Engine. The binary content of the rebuilt file is returned. The Accept Header controls the format of the body."),Object(l.b)("p",null,"You can also specify a Glasswall Content Management Policy to change the individual content handling the engine takes for supported file types. "),Object(l.b)("p",null,"When the file conforms to specification, the rebuilt file will be returned in the response.")),Object(l.b)("div",{class:"api-details-right  api-details-column"},Object(l.b)("div",{class:"api-details-example"},Object(l.b)("div",{class:"api-details-example-top"},"Endpoint"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"   POST /api/Rebuild/file\n"))))),Object(l.b)("h3",{id:"request-body"},"Request Body"),Object(l.b)("div",{class:"api-details"},Object(l.b)("div",{class:"api-details-left api-details-column"},Object(l.b)("p",null,"The request Content-Type is multipart/form-data."),Object(l.b)("p",null,"Two arguments are specified in the form, 'file' and a fully optional 'contentManagementPolicyJson'. "),Object(l.b)("p",null,"The 'file' argument contains the raw content and the file name."),Object(l.b)("p",null,"The 'contentManagementPolicyJSON' argument is a JSON representation of the content management policy model (See section).")),Object(l.b)("div",{class:"api-details-right  api-details-column"},Object(l.b)("div",{class:"api-details-example"},Object(l.b)("div",{class:"api-details-example-top"},"Multipart Body Example:"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),'-----------------------------9051914041544843365972754266\nContent-Disposition: form-data; name="contentManagementFlagJson"\n\n{\n        "PdfContentManagement": {\n            "Metadata": 0\n        }\n}\n-----------------------------9051914041544843365972754266\nContent-Disposition: form-data; name="file"; filename="test.doc"\nContent-Type: application/octet-stream\n\nSome data found inside the doc.\n\n-----------------------------9051914041544843365972754266--\n'))))),Object(l.b)("h3",{id:"request-headers"},"Request Headers"),Object(l.b)("div",{class:"api-details"},Object(l.b)("p",null,"This endpoint has the following headers that can be set. "),Object(l.b)("ul",null,Object(l.b)("li",null,"Accept - This can be set to 'application/octet-stream'. If not set, a base64 representation of the rebuilt file will be returned instead of the binary content of the rebuilt file."),Object(l.b)("li",null,"x-api-key - This is the API key that you purchase. This must be sent in the request."),Object(l.b)("li",null,"Content-Type - This should be set to 'multipart/form-data', most languages will provide mechanisms to automatically populate this."))),Object(l.b)("h2",{id:"rebuild-base64-endpoint"},"Rebuild Base64 Endpoint"),Object(l.b)("h3",{id:"the-endpoint-1"},"The Endpoint"),Object(l.b)("div",{class:"api-details"},Object(l.b)("div",{class:"api-details-left api-details-column"},Object(l.b)("p",null,"This Endpoint takes the base64 representation of a file. It then rebuilds it with the Glasswall Engine. A base64 encoded version of the rebuilt file is returned. "),Object(l.b)("p",null,"You can also specify a Glasswall Content Management Policy to change the individual content handling the engine takes for supported file types. "),Object(l.b)("p",null,"When the file conforms to specification, the rebuilt file will be returned in the response base64 encoded.")),Object(l.b)("div",{class:"api-details-right  api-details-column"},Object(l.b)("div",{class:"api-details-example"},Object(l.b)("div",{class:"api-details-example-top"},"Endpoint"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"   POST /api/Rebuild/base64\n"))))),Object(l.b)("h3",{id:"request-body-1"},"Request Body"),Object(l.b)("div",{class:"api-details"},Object(l.b)("div",{class:"api-details-left api-details-column"},Object(l.b)("p",null,"The request Content-Type is application/json."),Object(l.b)("p",null,"Two arguments are specified in the JSON, 'Base64' and a fully optional 'ContentManagementFlags'. "),Object(l.b)("p",null,"The 'Base64' argument contains the Base64 encoded contents of the input file."),Object(l.b)("p",null,"The 'ContentManagementFlags' field in the JSON is the content management policy model (See section).")),Object(l.b)("div",{class:"api-details-right  api-details-column"},Object(l.b)("div",{class:"api-details-example"},Object(l.b)("div",{class:"api-details-example-top"},"Multipart Body Example:"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),'\n{\n    "Base64": "The base 64 encoded representation of the file",\n    "ContentManagementFlags": {\n        "PdfContentManagement": {\n            "Metadata": 0\n        }\n    }\n}\n\n'))))),Object(l.b)("h3",{id:"request-headers-1"},"Request Headers"),Object(l.b)("div",{class:"api-details"},Object(l.b)("p",null,"This endpoint has the following headers that can be set. "),Object(l.b)("ul",null,Object(l.b)("li",null,"x-api-key - This is the API key that you purchase. This must be sent in the request."),Object(l.b)("li",null,"Content-Type - This should be set to 'application/json', most languages will provide mechanisms to automatically populate this."))),Object(l.b)("h2",{id:"rebuild-url-to-url-endpoint"},"Rebuild Url to Url Endpoint"),Object(l.b)("h3",{id:"the-endpoint-2"},"The Endpoint"),Object(l.b)("div",{class:"api-details"},Object(l.b)("div",{class:"api-details-left api-details-column"},Object(l.b)("p",null,"This endpoint downloads a file located in the InputGetUrl parameter. It then rebuilds it with the Glasswall Engine. The rebuilt file is uploaded to a location specified by the OutputPutUrl parameter. "),Object(l.b)("p",null,"You can also specify a Glasswall Content Management Policy to change the individual content handling the engine takes for supported file types. "),Object(l.b)("p",null,"When the file conforms to specification, the rebuilt file will be returned in the response base64 encoded.")),Object(l.b)("div",{class:"api-details-right  api-details-column"},Object(l.b)("div",{class:"api-details-example"},Object(l.b)("div",{class:"api-details-example-top"},"Endpoint"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"   POST /api/Rebuild\n"))))),Object(l.b)("h3",{id:"request-body-2"},"Request Body"),Object(l.b)("div",{class:"api-details"},Object(l.b)("div",{class:"api-details-left api-details-column"},Object(l.b)("p",null,"The request Content-Type is application/json "),Object(l.b)("p",null,"Three arguments are specified in the JSON, 'InputGetUrl', 'OutputPutUrl' and a fully optional 'contentManagementPolicyJson'. "),Object(l.b)("p",null,"The 'file' argument contains the raw content and the file name."),Object(l.b)("p",null,"The 'ContentManagementFlags' field in the JSON is the Content Management Policy model (See section).")),Object(l.b)("div",{class:"api-details-right  api-details-column"},Object(l.b)("div",{class:"api-details-example"},Object(l.b)("div",{class:"api-details-example-top"},"JSON Body Example:"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),'\n{\n    "InputGetUrl": "A link to the file to rebuild",\n    "OutputPutUrl": "A link to the place to put the rebuilt file",\n    "ContentManagementFlags": {\n        "PdfContentManagement": {\n            "Metadata": 0\n        }\n    }\n}\n\n'))))),Object(l.b)("h3",{id:"request-headers-2"},"Request Headers"),Object(l.b)("div",{class:"api-details"},Object(l.b)("p",null,"This endpoint has the following headers that can be set. "),Object(l.b)("ul",null,Object(l.b)("li",null,"x-api-key - This is the API key that you purchase. This must be sent in the request"),Object(l.b)("li",null,"Content-Type - This should be set to 'application/json', most languages will provide mechanisms to automatically populate this."))),Object(l.b)("h2",{id:"api-resources"},"API Resources"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"Multipart/Form-Content - File in Http Payload"),Object(l.b)("li",{parentName:"ul"},"Secure Url (S3)")))}d.isMDXComponent=!0},201:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var a=n(0),i=n.n(a);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var r=i.a.createContext({}),d=function(e){var t=i.a.useContext(r),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=d(e.components);return i.a.createElement(r.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},u=i.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,s=e.parentName,r=c(e,["components","mdxType","originalType","parentName"]),p=d(n),u=a,h=p["".concat(s,".").concat(u)]||p[u]||b[u]||l;return n?i.a.createElement(h,o(o({ref:t},r),{},{components:n})):i.a.createElement(h,o({ref:t},r))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,s=new Array(l);s[0]=u;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:a,s[1]=o;for(var r=2;r<l;r++)s[r]=n[r];return i.a.createElement.apply(null,s)}return i.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"}}]);